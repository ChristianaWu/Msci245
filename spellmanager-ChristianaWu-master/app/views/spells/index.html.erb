<p id="notice"><%= flash[:notice] %></p>

<h1>All Spells</h1>

<p>
<%= link_to 'Create New Spell', new_spell_path %> |
<%= link_to "Home", root_path %>    
</p>    

<table>
  <thead>
    <tr>
      <th>Level</th>
      <th>Spell Name</th>
      <th>School</th>
      <th>Classes</th>
      <th>Concentration</th>
      <th colspan="2"></th>
    </tr>
  </thead>

  <tbody>
    <% @spells.each do |spell| %>
      <tr>
        <td><%= spell.level %></td>
        <td><%= link_to spell.name, spell_path(spell) %></td>
        <td><%= spell.school %></td>
        <td><% spell.spellcalss_array.each_with_index do |s, index| %>   
               <% if (index + 1) != spell.spellcalss_array.length %>
                    <%= s%>, 
                <% else %>
                    <%= s%>
                <% end %> 
            <% end %>
        </td>
        <td><%= spell.concentration%></td>
        <td><%= link_to 'Edit', edit_spell_path(spell) %></td>
        <td> | <%= link_to 'Add to Book', add_spell_spell_path(spell) %></td>
      </tr>
    <% end %>
  </tbody>
</table>



